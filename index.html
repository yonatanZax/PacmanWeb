<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>The Greatest Pac-Man game</title>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>


    <!--    Js scripts      -->
    <script type="text/javascript" src="GameLogic.js"></script>
    <script type="text/javascript" src="SwitchContent.js"></script>
    <script type="text/javascript" src="UserManager.js"></script>
    <script type="text/javascript" src="SettingManager.js"></script>


    <!--        css files-->
    <link rel="stylesheet" type="text/css" href="mainStyleSheet.css">
    <link rel="stylesheet" type="text/css" href="loginSheet.css">


</head>


<body>


<header>

    <div class="toolbar" style="background-color: black">
        <img src="images/Marvel-Pacman%20header.png" height="60">
    </div>


    <div class="toolbar">
        <button onclick="showWelcome()">Welcome</button>
        <button onclick="document.getElementById('aboutModal').style.display='block'" style="width:auto;">About</button>
        <!--        <button  onclick="showAbout()">About</button>-->
        <button onclick="setSettings()">Settings</button>
        <button onclick="playGame()">EndGame</button>
    </div>


</header>




<!--/****   Welcome - login and registration    ****/-->

<div id="welcome" class="visible frame" style="background-color: yellow">
    <br>

    <img src="images/Marvel-Pacman-logo-bw.png" class="center">
    <!--    <img src="images/Marvel-Pacman%20logo.png" class="center">-->

    <br>


    <div align="center">
        <button onclick="document.getElementById('loginDiv').style.display='block'" style="width:auto;">Login</button>
        <button onclick="document.getElementById('registerDiv').style.display='block'" style="width:auto;">Register
        </button>
    </div>


    <div id="loginDiv" class="modal" style="background-color: white">
         <span onclick="document.getElementById('loginDiv').style.display='none'" class="close">X</span>


            <div class="container">

                <div class="center">
                    <table>
                        <tr>
                            <td>
                                <label for="userName_login"><b>Username</b></label>

                            </td>
                            <td>
                                <input id="userName_login" class="loginInput" type="text" placeholder="Enter Username" name="userName">
                            </td>
                        </tr>


                        <tr>
                            <td>
                                <label for="password_login"><b>Password</b></label>

                            </td>
                            <td>
                                <input id="password_login" class="loginInput" type="password" placeholder="Enter Password"
                                       name="password" required>
                            </td>
                        </tr>

                    </table>

                    <button type="button" onclick="document.getElementById('loginDiv').style.display='none'"
                            class="cancelbtn">Cancel
                    </button>
<!--                    <button id="loginBtn" class="submitBtn">Login</button>-->
                    <button id="loginBtn" class="submitBtn" onclick="manageLogin();">Login</button>
                    <label>
                        <input type="checkbox" checked="checked" name="remember"> Remember me
                    </label>
                </div>



            </div>

    </div>


    <div id="registerDiv" class="modal" style="background-color: white">
        <span onclick="document.getElementById('registerDiv').style.display='none'" class="close" title="Close Modal">&times;</span>
            <div class="container">
                <h1>Sign Up</h1>
                <p>Please fill in this form to create an account.</p>
                <hr>

                <div class="center">
                <table>
                    <tr>
                        <td><label><b>User name</b></label></td>
                <td><input id="userName_register" class="loginInput" type="text" placeholder="Enter username" name="userName"
                           pattern=".{8,}"   required title="At least 8 chars for User name"></td>
                    </tr>

                    <tr>
                        <td><br><label><b>Password</b></label></td>
                        <td><input id="password_register" class="loginInput" type="password" placeholder="Enter Password" name="password" required
                                   pattern="(?=.*\d)(?=.*[a-zA-Z]).{8,}" title="Must contain at least one number and one letter, and at least 8 or more characters"></td>
                    </tr>

                    <tr>
                        <td><br><label><b>First name</b></label></td>
                        <td><input id="fName_register" class="loginInput" type="text" placeholder="Enter first name" name="fName" required></td>
                    </tr>

                    <tr>
                        <td><br><label><b>Last name</b></label></td>
                        <td><input id="lName_register" class="loginInput" type="text" placeholder="Enter last name" name="lName" required></td>
                    </tr>

                    <tr>
                        <td><br><label><b>Email</b></label></td>
                        <td><input id="email_register" class="loginInput" type="email" placeholder="Enter Email" name="email" required
                                   pattern="/^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/" title="Must be a valid email"></td>
                    </tr>

                    <tr>
                        <td><br><label><b>Birthday</b></label></td>
                        <td><input id="birthday_register" class="loginInput" type="date" placeholder="Enter birthday" name="birthday" required></td>
                    </tr>

                </table></div>


                <div class="center">
                    <button type="button" onclick="document.getElementById('registerDiv').style.display='none'"
                            class="cancelbtn">Cancel
                    </button>
                    <button id="registerBtn" class="submitBtn">Sign Up</button>
<!--                    <button id="registerBtn" class="submitBtn" onclick="manageRegister()">Sign Up</button>-->
                </div>
            </div>

    </div>

</div>


<!--/****   About    ****/-->


<div id="aboutModal" class="modal">
    <span onclick="document.getElementById('aboutModal').style.display='none'" class="close"
          title="Close Modal">&times;</span>
    <form class="modal-content">
        <div class="container">
            <h1>About</h1>
            <p>about about about...</p>
            <hr>
        </div>
    </form>
</div>


<!--/****   Settings    ****/-->
<div id="settings" class="hidden">
        <div class="center">
            <h1>Settings</h1>
            <hr>



            <!--            Keyboard Settings               -->

            <h3>Set game keyboard</h3><br>
            <div class="center">
                <label><b>Up key:</b> <pr id="upKeyLabel"></pr></label><br>
                <input id="settings_upKey" type="text" name="settings_upKey" onkeypress="getKey(event,'up')">

                <br>
            </div>

            <div style="    margin-left: auto; margin-right: auto; width: 80%;">
                <label><b>Left key:</b> <pr id="leftKeyLabel"></pr></label>
                <input id="settings_leftKey" type="text" name="settings_leftKey" onkeypress="getKey(event,'left')">

                <input id="settings_rightKey" type="text" name="settings_rightKey" onkeypress="getKey(event,'right')">
                <label><b>Right key</b> <pr id="rightKeyLabel"></pr></label>

            </div>


            <div class="center">

                <input id="settings_downKey" type="text" name="settings_downKey" onkeypress="getKey(event,'down')">
                <br><label><b>Down key:</b> <pr id="downKeyLabel"></pr></label>

                <br>
            </div>






            <hr>

            <!--            Settings table               -->

            <table>

                <tr>
                    <td>
                        <label><b>Number of balls</b></label>
                    </td>

                    <td>
                        <input id="settings_numOfBalls" class="inputField" type="number" min="50" max="90" name="settings_numOfBalls">
                    </td>
                </tr>

                <!--                new row          -->

                <tr>
                    <td>
                        <label><b>Time to play (in sec)</b></label>
                    </td>

                    <td>
                        <input id="settings_timeToPlay" class="inputField" type="number" min="60" name="settings_timeToPlay">
                    </td>
                </tr>


                <!--                new row          -->

                <tr>
                    <td>
                        <label><b>Monsters</b></label>
                    </td>

                    <td>
                        <input id="settings_numOfMonsters" class="inputField" type="number" min="1" max="3" name="settings_numOfMonsters">
                    </td>
                </tr>


                <!--                new row          -->

                <tr>
                    <td>
                        <label><b>Pacman's color</b></label>
                    </td>

                    <td>
                        <select name="Color">
                            <option value="Red">Red</option>
                            <option value="Blue">Blue</option>
                            <option value="Green" selected>Green</option>
                            <option value="Yellow">Yellow</option>
                        </select>
                    </td>
                </tr>

            </table>



            <br>
            <div class="center">
                <button onclick="saveSettings()" style="width: 100%">Save changes</button>
            </div>


        </div>


</div>


<!--/****   EndGame    ****/-->

<div id="game" class="hidden">
    <br>

    SCORE:
    <input class="gameInput" id="lblScore" type="text"/>

    TIME:
    <input class="gameInput" id="lblTime" type="text"/>

    LIVES:
    <input class="gameInput" id="lives" type="text"/>

    <br><br>
    <canvas id="canvas" class="center" height="600" width="600"></canvas>
    <br><br>


</div>


<footer class="myfooter">
    <p id="footer" style="color: white">Footer</p>
</footer>


<script>



    function showWelcome() {
        switchContent("welcome");
    }

    function showLogin() {
        switchContent("loginDiv");
        manageLogin();
        switchContent("welcome");
    }

    function setSettings() {
        switchContent("settings");
    }

    function playGame() {
        if (session != null) {

            switchContent("game");
            Start();
        }
    }


    var user_db;
    var session;
    var context;


    window.addEventListener("load",initiateVars,false);

    function initiateVars() {
        // var session = null;
        user_db = {};
        var aUser = new User({userName:"a",password:"a"});
        user_db[aUser.userName] = aUser;


        session = aUser;
        context = canvas.getContext("2d");
    }












</script>


</body>

</html>