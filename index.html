<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>The Greatest Pac-Man game</title>
        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>


    <!--    Js scripts      -->
    <script type="text/javascript" src="GameLogic.js" ></script>
    <script type="text/javascript" src="SwitchContent.js" ></script>
    <script type="text/javascript" src="UserManager.js" ></script>


<!--        css files-->
    <link rel="stylesheet" type="text/css" href="mainStyleSheet.css">
    <link rel="stylesheet" type="text/css" href="loginSheet.css">


</head>



<body onload="Singleton.getInstance()">




<header>

    <div class="toolbar" style="background-color: black">
        <img src="images/Marvel-Pacman%20header.png" height="60" >
    </div>




    <div class="toolbar" >
        <button  onclick="showWelcome()">Welcome</button>
        <button onclick="document.getElementById('aboutModal').style.display='block'" style="width:auto;">About</button>
<!--        <button  onclick="showAbout()">About</button>-->
        <button  onclick="setSettings()">Settings</button>
        <button  onclick="playGame()">EndGame</button>
    </div>


</header>






<!--/****   Welcome - login and registration    ****/-->

<div id="welcome" class="visible frame" style="background-color: yellow">
    <br>

    <img src="images/Marvel-Pacman-logo-bw.png" class="center" >
<!--    <img src="images/Marvel-Pacman%20logo.png" class="center">-->

    <br>


    <div align="center">
        <button onclick="document.getElementById('loginDiv').style.display='block'" style="width:auto;">Login</button>
        <button onclick="document.getElementById('registerDiv').style.display='block'" style="width:auto;">Register</button>
    </div>


    <div id="loginDiv" class="modal">

        <form id="loginForm" class="modal-content animate">
            <div class="imgcontainer">
                <span onclick="document.getElementById('loginDiv').style.display='none'" class="close" title="Close Modal">&times;</span>
                <br><br>
            </div>

            <div class="container">
                <label for="userName_login"><b>Username</b></label>
                <input id="userName_login" class="loginInput" type="text" placeholder="Enter Username" name="userName" required>

                <label for="password_login"><b>Password</b></label>
                <input id="password_login" class="loginInput" type="password" placeholder="Enter Password" name="password" required>



                <button type="button" onclick="document.getElementById('loginDiv').style.display='none'" class="cancelbtn">Cancel</button>
                <button class="submitBtn" onclick="manageLogin()">Login</button>
                <label>
                    <input type="checkbox" checked="checked" name="remember"> Remember me
                </label>

                <br>
                <p id="status_login"> status:</p>

            </div>
        </form>
    </div>







    <div id="registerDiv" class="modal">
        <span onclick="document.getElementById('registerDiv').style.display='none'" class="close" title="Close Modal">&times;</span>
        <form class="modal-content animate">
            <div class="container">
                <h1>Sign Up</h1>
                <p>Please fill in this form to create an account.</p>
                <hr>

                <label><b>User name</b></label>
                <input class="loginInput" type="text" placeholder="Enter username" name="userName" required>

                <label><b>Password</b></label>
                <input class="loginInput" type="password" placeholder="Enter Password" name="password" required>

                <label><b>First name</b></label>
                <input class="loginInput" type="text" placeholder="Enter first name" name="fName" required>

                <label><b>Last name</b></label>
                <input class="loginInput" type="text" placeholder="Enter last name" name="lName" required>

                <label><b>Email</b></label>
                <input class="loginInput" type="email" placeholder="Enter Email" name="email" required>

                <label><b>Birthday</b></label>
                <input class="loginInput" type="date" placeholder="Enter birthday" name="birthday" required>






                <p>By creating an account you agree to our <a href="#" style="color:dodgerblue">Terms & Privacy</a>.</p>

                <div class="clearfix">
                    <button type="button" onclick="document.getElementById('registerDiv').style.display='none'" class="cancelbtn">Cancel</button>
                    <button type="submit" class="submitBtn">Sign Up</button>
                </div>
            </div>
        </form>
    </div>

</div>




<!--/****   About    ****/-->


    <div id="aboutModal" class="modal">
        <span onclick="document.getElementById('aboutModal').style.display='none'" class="close" title="Close Modal">&times;</span>
        <form class="modal-content">
            <div class="container">
                <h1>About</h1>
                <p>about about about...</p>
                <hr>
            </div>
        </form>
    </div>




<!--/****   Settings    ****/-->
<div id="settings" class="hidden">
<form>
    <div class="center">
        <h1>Settings</h1>
        <hr>

        <label><b>Number of points</b></label>
        <input class="loginInput" type="number" name="numOfPoints">

        <label><b>Pacman color</b></label>
        <select name="Color">
            <option value="Red">Red</option>
            <option value="Blue">Blue</option>
            <option value="Green" selected>Greem</option>
            <option value="Yellow">Yellow</option>
        </select>

        <br><br>


    </div>
</form>
</div>



<!--/****   EndGame    ****/-->

<div id="game" class="hidden">
    <br>

    SCORE:
    <input class="gameInput" id="lblScore" type="text"/>

    TIME:
    <input class="gameInput" id="lblTime" type="text"/>

    LIVES:
    <input class="gameInput" id="lives" type="text"/>

    <br><br>
    <canvas id="canvas" class="center" height="600" width="600"></canvas>
    <br><br>


</div>







<footer class="myfooter">
    <p id="footer" style="color: white">Footer</p>
</footer>




<script>




    class Singleton{


        instance = null;

        user_db;


        session = null;
        // var session = aUser;




        context = canvas.getContext("2d");
        shape = new Object();
        board;
        score;
        pac_color;
        start_time;
        time_elapsed;
        interval;

        // settings variables
        up_key = 'ArrowUp';
        down_key = 'ArrowDown';
        left_key = 'ArrowLeft';
        right_key = 'ArrowRight';
        pill_number = 50 + Math.floor(Math.random() * 41); // return a number between 50-90
        time_seconds = 60;
        monster_number = 1 + Math.floor(Math.random() * 3); // return a number between 1-3



        static getInstance() {
            if(this.instance == null){
                this.user_db = {};
                var aUser = new User({userName:"a",password:"a"});
                this.user_db[aUser.userName] = aUser;
                this.instance = this;
                return this.instance;
            }
        }
    }




    function showWelcome() { switchContent("welcome")  }
    function setSettings() { switchContent("settings")  }
    function playGame() {
        if (session != null){

            switchContent("game");
            Start();
        }
    }





    class User{
        userName;
        password;
        fName;
        lName;
        email;
        birthday;

        constructor(values = {}){
            this.userName = values.userName;
            this.password = values.password;
            this.fName = values.fName || "Mark";
            this.lName = values.lName || "Last";
            this.email = values.email || "default@gmail.com";
            this.birthday = values.birthday || 19920101;
        }

        getName(){
            return userName;
        }

    }


    var single = Singleton.getInstance();


    // var user_db = {};
    // var aUser = new User({userName:"a",password:"a"});
    // user_db[aUser.userName] = aUser;
    //
    // var session = null;
    // // var session = aUser;
    //
    //
    //
    //
    // var context = canvas.getContext("2d");
    // var shape = new Object();
    // var board;
    // var score;
    // var pac_color;
    // var start_time;
    // var time_elapsed;
    // var interval;
    //
    // // settings variables
    // var up_key = 'ArrowUp';
    // var down_key = 'ArrowDown';
    // var left_key = 'ArrowLeft';
    // var right_key = 'ArrowRight';
    // var pill_number = 50 + Math.floor(Math.random() * 41); // return a number between 50-90
    // var time_seconds = 60;
    // var monster_number = 1 + Math.floor(Math.random() * 3); // return a number between 1-3


</script>


</body>

</html>